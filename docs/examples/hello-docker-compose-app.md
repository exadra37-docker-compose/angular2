# Hello Docker Compose Example App

Let's build an Hello Docker Compose App in Angular 2.

This example assumes:

* The repository was installed with [this instructions](https://gitlab.com/exadra37-docker-compose/angular2/blob/master/docs/how-to/install.md).
* A recent version of Docker is installed.
* A Docker Composer with support for parsing `docker-compose.yml` files that are written for version 2.1.


## STEP 1

Let's go to the folder where lives `docker-compose.yml`.

```bash
cd ~/Developer/Acme/Angular2/HelloDockerCompose/docker/angular2/src
```


## STEP 2

Let's create a new Angular 2 App using a Docker Compose service.

```bash
sudo docker-compose run --rm new-app HelloDockerCompose
```

The option `--rm` will remove the Docker Container used to generate the New Angular 2 App.


## STEP 3

This STEP is optional if you don't use the `traefik_network`.

We will add to our `/etc/hosts` file the domain name we want to use in development as per defined in the `src/.env` file in parameter `DOMAIN_NAME_DEV`.

```bash
sudo sh -c 'echo "0.0.0.0 web.angular2.dev" >> /etc/hosts'
```

## STEP 4

Let's run the Docker Compose service `web-dev` that will create a Docker container to run our App in development mode on our default browser.

```bash
sudo docker-compose up web-dev
```

Output:

```bash
Starting src_app-code_1
Starting src_web-dev_1
Attaching to src_web-dev_1
web-dev_1         | ** NG Live Development Server is running on http://0.0.0.0:4200 **
web-dev_1         | Hash: 7230ce008e84d15923c6
web-dev_1         | Time: 9415ms
web-dev_1         | chunk    {0} polyfills.bundle.js, polyfills.bundle.js.map (polyfills) 165 kB {4} [initial] [rendered]
web-dev_1         | chunk    {1} main.bundle.js, main.bundle.js.map (main) 3.62 kB {3} [initial] [rendered]
web-dev_1         | chunk    {2} styles.bundle.js, styles.bundle.js.map (styles) 9.77 kB {4} [initial] [rendered]
web-dev_1         | chunk    {3} vendor.bundle.js, vendor.bundle.js.map (vendor) 2.39 MB [initial] [rendered]
web-dev_1         | chunk    {4} inline.bundle.js, inline.bundle.js.map (inline) 0 bytes [entry] [rendered]
web-dev_1         | webpack: Compiled successfully.
```

We must wait for Web Pack to finish compilation before we go to STEP 5.

When in development mode any changes we perform in the code will trigger a reload of the web page.


## STEP 5

Now we can see the Hello Docker Compose App working in the browser with the default skeleton generated by Angular CLI.

### With the Custom Domain for Development from STEP 3.

* With traefik network enabled just open http://web.angular2.dev
* Without traefik network enabled just open http://web.angular2.dev:4201


### Using Localhost

* Just open http://localhost:4201 .


## STEP 6

This STEP is optional if you don't use the `traefik_network`.

We will add to our `/etc/hosts` file the domain name we want to use in Production for Localhost as per defined in the `src/.env` file in parameter `DOMAIN_NAME_PROD`.

```bash
sudo sh -c 'echo "0.0.0.0 web.angular2.prod" >> /etc/hosts'
```

## STEP 7

Let's run the Docker Compose service `web-prod` that will create a Docker container to run our App in Production mode for Localhost in on our default browser.

```bash
sudo docker-compose up web-prod
```

Output:

```bash
Starting src_app-code_1
Creating src_app-build-prod_1
Creating src_web-prod_1
Attaching to src_web-prod_1
```

Now that is compiled for Production we can proceed to next STEP.


## STEP 8

Now we can see the Hello Docker Compose App working in the browser with the Production build generated by Angular CLI.

### With the Custom Domain for Production in Localhost from STEP 6.

* With traefik network enabled just open http://web.angular2.prod
* Without traefik network enabled just open http://web.angular2.prod:8000


### Using Localhost

* Just open http://localhost:8000 .


## CONCLUSION

Play with the HelloDockerCompose App and build something just for fun.

I hope you enjoy building Angular 2 Apps with a Docker Compose Work-flow.

If you are enjoying it you may consider to [support further development](https://gitlab.com/exadra37-docker-compose/angular2#support-development).
